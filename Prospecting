-- üìå ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()

-- ‡πÇ‡∏´‡∏•‡∏î Luna UI
local Luna = loadstring(game:HttpGet("https://raw.githubusercontent.com/Nebula-Softworks/Luna-Interface-Suite/refs/heads/master/source.lua"))()

local Window = Luna:CreateWindow({
    Name = "CK HUB ",
    Subtitle = "V.2.12",
    LoadingEnabled = true,
    LoadingTitle = "CK HUB",
    LoadingSubtitle = "‡πÇ‡∏î‡∏¢ fb ‡∏°‡∏≤‡∏õ‡∏±‡πà‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢",
    ConfigSettings = {
        ConfigFolder = "CK HUB Config"
    },
    KeySystem = false
})

Window:CreateHomeTab({
    SupportedExecutors = {"Synapse X", "Krnl", "Fluxus", "Script-Ware"},
    Icon = 1
})

local Tab_Main = Window:CreateTab({
    Name = "‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å",
    Icon = "view_in_ar",
    ImageSource = "Material"
})

------------------------------------------------------------
-- üìç ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á
------------------------------------------------------------
local farmPos = nil
local waterPos = nil
local statusLabel -- ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞

Tab_Main:CreateButton({
    Name = "üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏à‡∏∏‡∏î‡∏ü‡∏≤‡∏£‡πå‡∏°",
    Callback = function()
        Char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        farmPos = Char.HumanoidRootPart.CFrame
        print("üìç ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ü‡∏≤‡∏£‡πå‡∏°:", farmPos)
    end
})

Tab_Main:CreateButton({
    Name = "üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏à‡∏∏‡∏î‡∏ô‡πâ‡∏≥",
    Callback = function()
        Char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        waterPos = Char.HumanoidRootPart.CFrame
        print("üíß ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ô‡πâ‡∏≥:", waterPos)
    end
})

------------------------------------------------------------
-- ü•Ñ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
------------------------------------------------------------
statusLabel = Tab_Main:CreateLabel({
    Text = "‚ö†Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô...",
    Style = 2
})

Tab_Main:CreateToggle({
    Name = "ü•Ñ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡πÅ‡∏û‡∏ô + ‡∏ß‡∏≤‡∏£‡πå‡∏õ)",
    CurrentValue = false,
    Callback = function(state)
        _G.AutoPanWarp = state
        task.spawn(function()
            local function isPan(toolName)
                return string.sub(toolName, -3):lower() == "pan"
            end

            while _G.AutoPanWarp and task.wait(0.00) do
                Char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()

                -- üìå ‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠ Pan
                local containers = {Char, LocalPlayer.Backpack}
                for _, container in pairs(containers) do
                    for _, tool in pairs(container:GetChildren()) do
                        if tool:IsA("Tool") and isPan(tool.Name) then
                            local scriptsFolder = tool:FindFirstChild("Scripts")
                            if scriptsFolder then
                                local collect = scriptsFolder:FindFirstChild("Collect")
                                if collect and collect:IsA("RemoteFunction") then
                                    pcall(function()
                                        collect:InvokeServer(1)
                                    end)
                                end
                                local pan = scriptsFolder:FindFirstChild("Pan")
                                if pan and pan:IsA("RemoteFunction") then
                                    pcall(function()
                                        pan:InvokeServer()
                                    end)
                                end
                                local shake = scriptsFolder:FindFirstChild("Shake")
                                if shake and shake:IsA("RemoteEvent") then
                                    pcall(function()
                                        shake:FireServer()
                                    end)
                                end
                            end
                        end
                    end
                end

                -- üìå ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤‡∏´‡∏•‡∏≠‡∏î + ‡∏ß‡∏≤‡∏£‡πå‡∏õ
                local gui = LocalPlayer:WaitForChild("PlayerGui"):FindFirstChild("ToolUI")
                if gui and gui:FindFirstChild("FillingPan") and gui.FillingPan:FindFirstChild("FillText") then
                    local text = gui.FillingPan.FillText.Text
                    local current, max = text:match("(%d+)/(%d+)")
                    current, max = tonumber(current), tonumber(max)

                    if current and max and waterPos and farmPos then
                        if current >= max then
                            Char.HumanoidRootPart.CFrame = waterPos
                            statusLabel:Set("üíß ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡πà‡∏≠‡∏ô‡πÅ‡∏£‡πà (‡πÄ‡∏ï‡πá‡∏°)")
                        else
                            Char.HumanoidRootPart.CFrame = farmPos
                            statusLabel:Set("‚õèÔ∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏≤‡∏£‡πå‡∏° ("..current.."/"..max..")")
                        end
                    else
                        statusLabel:Set("‚ö†Ô∏è ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏à‡∏∏‡∏î‡∏ü‡∏≤‡∏£‡πå‡∏°/‡∏ô‡πâ‡∏≥‡∏Å‡πà‡∏≠‡∏ô")
                    end
                end
            end
            -- ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            if not _G.AutoPanWarp then
                statusLabel:Set("‚èπÔ∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô")
            end
        end)
    end
})

------------------------------------------------------------
-- ‚è≥ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏´‡∏•‡∏∏‡∏î (AFK)
------------------------------------------------------------
Tab_Main:CreateToggle({
    Name = "‚è≥ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏∏‡∏î (Anti AFK)",
    CurrentValue = false,
    Callback = function(state)
        _G.AntiAFK = state
        if state then
            local VirtualInputManager = game:GetService("VirtualInputManager")
            task.spawn(function()
                while _G.AntiAFK and task.wait(60) do
                    VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.LeftShift, false, game)
                    task.wait(0.1)
                    VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.LeftShift, false, game)
                end
            end)
        end
    end
})

------------------------------------------------------------
-- üí≥ ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï
------------------------------------------------------------
local Tab_Credit = Window:CreateTab({
    Name = "‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï",
    Icon = "info",
    ImageSource = "Material"
})

Tab_Credit:CreateLabel({
    Text = "‡∏ñ‡πâ‡∏≤‡∏ö‡∏±‡∏Ñ‡∏≠‡∏≠‡∏Å‡πÄ‡πÄ‡∏°‡∏û‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà",
    Style = 2
})

Tab_Credit:CreateLabel({
    Text = "‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï fb ‡∏°‡∏≤‡∏õ‡∏±‡πà‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢",
    Style = 2
})

-- üìå ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó Character ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà
LocalPlayer.CharacterAdded:Connect(function(newChar)
    Char = newChar
    task.wait(1)
end)
