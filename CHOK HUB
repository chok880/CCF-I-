local Player = game:GetService("Players")
local LocalPlayer = Player.LocalPlayer
local Char = LocalPlayer.Character
local Humanoid = Char:WaitForChild("Humanoid")
local VirtualInputManager = game:GetService("VirtualInputManager")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local GuiService = game:GetService("GuiService")

local function equipitem(v)
    if LocalPlayer.Backpack:FindFirstChild(v) then
        Humanoid:EquipTool(LocalPlayer.Backpack[v])
    end
end

-- ==== Kavo UI ====
local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Fisch", "DarkTheme")
local Tab = Window:NewTab("MAIN")
local Section = Tab:NewSection("MAIN")

-- AutoCast
Section:NewToggle("AutoCast", "", function(v)
    _G.AutoCast = v
    pcall(function()
        while _G.AutoCast do
            task.wait(0.1)
            local Rod = Char:FindFirstChildOfClass("Tool")
            if Rod and Rod:FindFirstChild("events") and Rod.events:FindFirstChild("cast") then
                Rod.events.cast:FireServer(100,1)
            end
        end
    end)
end)

-- AutoShake
Section:NewToggle("AutoShake", "", function(v)
    _G.AutoShake = v
    pcall(function()
        while _G.AutoShake do
            task.wait(0.01)
            local shakeUI = LocalPlayer.PlayerGui:FindFirstChild("shakeui")
            if shakeUI and shakeUI.Enabled then
                local safezone = shakeUI:FindFirstChild("safezone")
                if safezone then
                    local button = safezone:FindFirstChild("button")
                    if button and button:IsA("ImageButton") and button.Visible then
                        GuiService.SelectedObject = button
                        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Return, false, game)
                        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Return, false, game)
                    end
                end
            end
        end
    end)
end)

-- AutoReel
Section:NewToggle("AutoReel", "", function(v)
    _G.AutoReel = v
    pcall(function()
        while _G.AutoReel do
            task.wait()
            for _, gui in pairs(LocalPlayer.PlayerGui:GetChildren()) do
                if gui:IsA("ScreenGui") and gui.Name == "reel" and gui:FindFirstChild("bar") then
                    task.wait(0.15)
                    ReplicatedStorage.events.reelfinished:FireServer(100,true)
                end
            end
        end
    end)
end)

-- Freeze Character
Section:NewToggle("Freeze Character", "", function(v)
    Char.HumanoidRootPart.Anchored = v
end)

-- Auto Equip Rod
spawn(function()
    while task.wait() do
        if _G.AutoCast then
            pcall(function()
                for _, tool in pairs(LocalPlayer.Backpack:GetChildren()) do
                    if tool:IsA("Tool") and tool.Name:lower():find("rod") then
                        equipitem(tool.Name)
                    end
                end
            end)
        end
    end
end)

-- ==== Discord UI ====
local DiscordLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/discord"))()
local win = DiscordLib:Window("discord library")
local serv = win:Server("Preview", "")
local btns = serv:Channel("Buttons")

btns:Button("Example Button", function()
    print("Button Clicked")
end)
